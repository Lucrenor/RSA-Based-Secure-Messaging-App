<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Messaging App</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
</head>
<body>
    <div class="app-container">
        <header>
            <div class="app-header">
                <div class="app-logo">
                    <img src="/static/images/lock-icon.svg" alt="Lock Icon" class="lock-icon">
                    <h1>Secure Messaging</h1>
                </div>
                <div class="user-info">
                    <span id="user-id-display">Not logged in</span>
                </div>
            </div>
        </header>
        
        <main>
            <!-- Login Section -->
            <section id="login-section" class="login-section">
                <div class="login-container">
                    <h2>Enter your username to start messaging</h2>
                    <div class="login-form">
                        <input type="text" id="username-input" placeholder="Enter your username">
                        <button id="login-button">Login</button>
                    </div>
                </div>
            </section>

            <!-- Chat Section (Hidden until logged in) -->
            <section id="chat-section" class="chat-section hidden">
                <div class="chat-container">
                    <div class="users-panel">
                        <h2>Users</h2>
                        <div id="users-list" class="users-list">
                            <!-- User list will be populated here -->
                        </div>
                    </div>
                    
                    <div class="chat-panel">
                        <div class="chat-header">
                            <h2 id="selected-user">Select a user to chat with</h2>
                            <div class="encryption-toggle">
                                <label for="encryption-switch">End-to-End Encryption</label>
                                <label class="switch">
                                    <input type="checkbox" id="encryption-switch">
                                    <span class="slider round"></span>
                                </label>
                            </div>
                        </div>
                        
                        <div id="messages-container" class="messages-container">
                            <!-- Messages will be displayed here -->
                            <div class="no-messages">
                                <p>No messages yet. Start a conversation!</p>
                            </div>
                        </div>
                        
                        <div class="message-input-container">
                            <input type="text" id="message-input" placeholder="Type a message..." disabled>
                            <button id="send-button" disabled>Send</button>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Security Info Section -->
            <section id="security-info" class="security-info hidden">
                <div class="security-container">
                    <h2>Security Information</h2>
                    <div class="key-info">
                        <h3>Your Public Key:</h3>
                        <pre id="public-key-display" class="key-display"></pre>
                        
                        <h3>Your Private Key:</h3>
                        <pre id="private-key-display" class="key-display"></pre>
                         
                    </div>
                </div>
            </section>
        </main>
        
        <footer>
            <p>RSA Digital Signature Demonstration Project | BIM474 Intro to Cryptography</p>
            <button id="show-security-info" class="footer-button">Show Security Info</button>
        </footer>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html> 